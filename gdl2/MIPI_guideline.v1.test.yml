guidelines:
  1: MIPI_guideline.v1
test_cases:
- id: MIPI<5.7 and MIPIb 5.7
  input:
    1:
      gt0003|Age: 50,a
      gt0005|ECOG: local::at0005|0-1|
      gt0007|LDH: 160,u/l
      gt0009|Upper limit of normal for serum LDH: 160,U/l
      gt0011|White cell count: 10,10^3/uL
      gt0013|Ki-67: 10,%
  expected_output:
    1:
      'gt0015|MIPI ': 5.5,1
      gt0030|Median overall survival (MIPIb): 58 months
      gt0029|Risk (MIPIb): Intermediate
      gt0027|Risk (MIPI): Low
      gt0016|MIPIb: 5.7,1
      gt0028|Median overall survival (MIPI): Not reached
- id: Warning Too High
  input:
    1:
      gt0003|Age: 50,a
      gt0005|ECOG: local::at0005|0-1|
      gt0007|LDH: 5001,u/l
      gt0009|Upper limit of normal for serum LDH: 5001,U/l
      gt0011|White cell count: 600,10*9/l
      gt0013|Ki-67: 10,%
  expected_output:
    1:
      gt0032|Warning upper limit of normal for serum LDH: Too high; please change to proceed.
      gt0033|Warning WBC: Too high; please change to proceed.
      gt0031|Warning Serum LDH: Too high; please change to proceed.
- id: Warning WBC very high
  input:
    1:
      gt0003|Age: 50,a
      gt0005|ECOG: local::at0005|0-1|
      gt0007|LDH: 160,u/l
      gt0009|Upper limit of normal for serum LDH: 160,U/l
      gt0011|White cell count: 500,10^3/uL
      gt0013|Ki-67: 10,%
  expected_output:
    1:
      'gt0015|MIPI ': 7.1,1
      gt0030|Median overall survival (MIPIb): 37 months
      gt0029|Risk (MIPIb): High
      gt0027|Risk (MIPI): High
      gt0016|MIPIb: 7.3,1
      gt0033|Warning WBC: Very high; double-check.
      gt0028|Median overall survival (MIPI): 29 months
- id: Warning WBC Too Low
  input:
    1:
      gt0003|Age: 50,a
      gt0005|ECOG: local::at0005|0-1|
      gt0007|LDH: 160,u/l
      gt0009|Upper limit of normal for serum LDH: 160,U/l
      gt0011|White cell count: 0,10^3/uL
      gt0013|Ki-67: 10,%
  expected_output:
    1:
      gt0033|Warning WBC: Too low; please change to proceed.
- id: MIPI and MIPIb with ECOG 0-1
  input:
    1:
      gt0003|Age: 50,a
      gt0005|ECOG: local::at0006|2-4|
      gt0007|LDH: 160,u/l
      gt0009|Upper limit of normal for serum LDH: 160,U/l
      gt0011|White cell count: 10,10^3/uL
      gt0013|Ki-67: 10,%
  expected_output:
    1:
      'gt0015|MIPI ': 6.2,1
      gt0030|Median overall survival (MIPIb): 58 months
      gt0029|Risk (MIPIb): Intermediate
      gt0027|Risk (MIPI): High
      gt0016|MIPIb: 6.4,1
      gt0028|Median overall survival (MIPI): 29 months
- id: warning very high ULN and LDH
  input:
    1:
      gt0003|Age: 50,a
      gt0005|ECOG: local::at0005|0-1|
      gt0007|LDH: 5000,u/l
      gt0009|Upper limit of normal for serum LDH: 5000,U/l
      gt0011|White cell count: 10,10^3/uL
      gt0013|Ki-67: 10,%
  expected_output:
    1:
      'gt0015|MIPI ': 5.5,1
      gt0030|Median overall survival (MIPIb): 58 months
      gt0029|Risk (MIPIb): Intermediate
      gt0027|Risk (MIPI): Low
      gt0032|Warning upper limit of normal for serum LDH: Very high; double-check.
      gt0016|MIPIb: 5.7,1
      gt0031|Warning Serum LDH: Very high; double-check.
      gt0028|Median overall survival (MIPI): Not reached
- id: warning very low LDH and ULN
  input:
    1:
      gt0003|Age: 50,a
      gt0005|ECOG: local::at0005|0-1|
      gt0007|LDH: 50,u/l
      gt0009|Upper limit of normal for serum LDH: 50,U/l
      gt0011|White cell count: 10,10^3/uL
      gt0013|Ki-67: 10,%
  expected_output:
    1:
      'gt0015|MIPI ': 5.5,1
      gt0030|Median overall survival (MIPIb): 58 months
      gt0029|Risk (MIPIb): Intermediate
      gt0027|Risk (MIPI): Low
      gt0032|Warning upper limit of normal for serum LDH: Very low; double-check.
      gt0016|MIPIb: 5.7,1
      gt0031|Warning Serum LDH: Very low; double-check.
      gt0028|Median overall survival (MIPI): Not reached
- id: MIPI and MIPIb Intermediate risk
  input:
    1:
      gt0003|Age: 50,a
      gt0005|ECOG: local::at0005|0-1|
      gt0007|LDH: 160,u/l
      gt0009|Upper limit of normal for serum LDH: 60,U/l
      gt0011|White cell count: 10,10^3/uL
      gt0013|Ki-67: 10,%
  expected_output:
    1:
      'gt0015|MIPI ': 6.1,1
      gt0030|Median overall survival (MIPIb): 58 months
      gt0029|Risk (MIPIb): Intermediate
      gt0027|Risk (MIPI): Intermediate
      gt0016|MIPIb: 6.3,1
      gt0028|Median overall survival (MIPI): 51 months
- id: MIPIb<5.7
  input:
    1:
      gt0003|Age: 30,a
      gt0005|ECOG: local::at0005|0-1|
      gt0007|LDH: 70,u/l
      gt0009|Upper limit of normal for serum LDH: 60,U/l
      gt0011|White cell count: 6,10^3/uL
      gt0013|Ki-67: 10,%
  expected_output:
    1:
      'gt0015|MIPI ': 4.7,1
      gt0030|Median overall survival (MIPIb): Not reached
      gt0029|Risk (MIPIb): Low
      gt0027|Risk (MIPI): Low
      gt0016|MIPIb: 4.9,1
      gt0028|Median overall survival (MIPI): Not reached
