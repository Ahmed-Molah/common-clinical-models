guidelines:
  1: expanded_disability_status_scale_functional_system_score.v1
test_cases:
- id: case_1
  input:
    1:
      gt0003|Cerebral: 0|local::at0067|Normal +0|
      gt0004|Ambulation: local::at0009|5.5-Ambulatory for 100 meters without aid/rest; disability precludes full daily activities.|
      gt0005|Other: 0|local::at0073|Normal +0|
      gt0006|Sensory: 0|local::at0046|Normal +0|
      gt0007|Brainstem: 0|local::at0040|Normal +0|
      gt0008|Visual: 1|local::at0061|Scotoma with visual acuity (corrected) better than 20/30 +1|
      gt0009|Bowel and bladder: 0|local::at0053|Normal +0|
      gt0010|Pyramidal: 0|local::at0027|Normal +0|
      gt0011|Cerebellar: 0|local::at0034|Normal +0|
  expected_output:
    1:
      gt0013|Ambulation Score: 5.5,1
      gt0014|Functional System Score: 1,1
      gt0035|No.of 2 in input: 0
      gt0033|No.of 1 in input: 1




KLADD:
        "then": [
          "$gt0033|No.of 1 in input|.magnitude=(0.5*(($gt0003.value-0.9)/(abs($gt0003.value-0.9))+(1.1-$gt0003.value)/(abs(1.1-$gt0003.value))))+(0.5*(($gt0005.value-0.9)/(abs($gt0005.value-0.9))+(1.1-$gt0005.value)/(abs(1.1-$gt0005.value))))+(0.5*(($gt0006.value-0.9)/(abs($gt0006.value-0.9))+(1.1-$gt0006.value)/(abs(1.1-$gt0006.value))))+(0.5*(($gt0007.value-0.9)/(abs($gt0007.value-0.9))+(1.1-$gt0007.value)/(abs(1.1-$gt0007.value))))+(0.5*(($gt0008.value-0.9)/(abs($gt0008.value-0.9))+(1.1-$gt0008.value)/(abs(1.1-$gt0008.value))))+(0.5*(($gt0009.value-0.9)/(abs($gt0009.value-0.9))+(1.1-$gt0009.value)/(abs(1.1-$gt0009.value))))+(0.5*(($gt0010.value-0.9)/(abs($gt0010.value-0.9))+(1.1-$gt0010.value)/(abs(1.1-$gt0010.value))))+(0.5*(($gt0011.value-0.9)/(abs($gt0011.value-0.9))+(1.1-$gt0011.value)/(abs(1.1-$gt0011.value))))"
        ]