<!DOCTYPE html><html ng-app="cds_app">
<head>
<title>{{def.concept.name}}</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="stylesheet" type="text/css" href="wro/foundation.css"/>
<link rel="stylesheet" type="text/css" href="wro/date-picker.css"/>
<link rel="stylesheet" type="text/css" href="wro/angular.css"></link>
<script type="text/javascript" src="wro/angular.js"></script>
<link rel="text/javascript" type="text/css" href="wro/foundation.js"/>
<script type="text/javascript" src="wro/moment.js"></script>
<script type="text/javascript" src="wro/date-picker.js"></script>
<script type="text/javascript" src="wro/app_lib.js"></script>
<script id="decision-support-view" type="application/json">{
  "dsViewId": "Apgar.v1",
  "language": {
    "originalLanguage": {
      "terminologyId": {
        "name": "ISO_639-1",
        "value": "ISO_639-1"
      },
      "codeString": "en"
    }
  },
  "decisionSupportViewDefinitions": {
    "en": {
      "name": "Apgar Score",
      "description": "Calculation of the Apgar score"
    }
  },
  "resourceDescription": {
    "originalAuthor": {
      "email": "oskar.nielsen@mail.com",
      "organisation": "Cambio Healthcare Systems",
      "name": "Oskar Nielsen",
      "date": "2016-07-03"
    },
    "otherContributors": [],
    "details": {
      "en": {
        "purpose": "Calculation of the Apgar score as a simple, repeatable method to document the state of the newborn infant immediately after birth. The clinical score is derived from assessment of respiratory effort, heart rate, reflex irritability, muscle tone and skin colour.",
        "keywords": [
          "APGAR",
          "Neonate",
          "Assessment",
          "Score"
        ],
        "use": "Allows the assessment of the state of a neonate after birth."
      }
    },
    "otherDetails": {
      "references": "Apgar V.  A proposal of a New Method of Evaluation of the Newborn Infant. Curr Res Anesth Analg.  1953 Jul-Aug;32(4):260-7.\n\nApgar V, Holaday DA, James LS, Weisbrod IM, and Berrien C.  Evaluation of the newborn infant; second report.  J Am Med Assoc.  1958 Dec 13;168(15):1985-8.\n\nApgar V.  The newborn (Apgar) scoring system.  Pediatr Clin North Am. 1966 Aug;13(3):645-50.\n\nWhaley LF, Wong DL (1979).  Nursing Care of Infants and Children.  St. Louis, Toronto, London, The C.V. Mosby Company.\n\nhttp://en.wikipedia.org/wiki/Apgar_score"
    }
  },
  "alertGuideIds": [],
  "executionGuideIds": [
    "Apgar.v1"
  ],
  "alertBindings": {},
  "termDefinitions": {
    "en": {
      "id": "en",
      "terms": {}
    }
  }
}</script>
</head>
<body ng-controller="cds_controller">
<#assign app_help_tag = "def.guides['openEHR-EHR-OBSERVATION.apgar.v1'].concept">
<#assign apgar_score_entry_ehr_data = "data.ehr['openEHR-EHR-OBSERVATION.apgar.v1']">
<#assign apgar_score_entry_cds_data = "data.cds['openEHR-EHR-OBSERVATION.apgar.v1']">
<#assign apgar_score_entry_def = "def.entries['openEHR-EHR-OBSERVATION.apgar.v1']">
<#assign reflex_irritability_def = apgar_score_entry_def + ".elements['/data{at0002}/events{at0003}/data{at0001}/items{at0017}']">
<#assign skin_colour_def = apgar_score_entry_def + ".elements['/data{at0002}/events{at0003}/data{at0001}/items{at0021}']">
<#assign total_def = apgar_score_entry_def + ".elements['/data{at0002}/events{at0003}/data{at0001}/items{at0025}']">
<#assign event_time_def = apgar_score_entry_def + ".elements['/data/events/time']">
<#assign respiratory_effort_def = apgar_score_entry_def + ".elements['/data{at0002}/events{at0003}/data{at0001}/items{at0009}']">
<#assign muscle_tone_def = apgar_score_entry_def + ".elements['/data{at0002}/events{at0003}/data{at0001}/items{at0013}']">
<#assign heart_rate_def = apgar_score_entry_def + ".elements['/data{at0002}/events{at0003}/data{at0001}/items{at0005}']">
<#assign reflex_irritability_ehr_data = apgar_score_entry_ehr_data + "[0].elements['/data{at0002}/events{at0003}/data{at0001}/items{at0017}']">
<#assign skin_colour_ehr_data = apgar_score_entry_ehr_data + "[0].elements['/data{at0002}/events{at0003}/data{at0001}/items{at0021}']">
<#assign total_ehr_data = apgar_score_entry_ehr_data + "[0].elements['/data{at0002}/events{at0003}/data{at0001}/items{at0025}']">
<#assign event_time_ehr_data = apgar_score_entry_ehr_data + "[0].elements['/data/events/time']">
<#assign respiratory_effort_ehr_data = apgar_score_entry_ehr_data + "[0].elements['/data{at0002}/events{at0003}/data{at0001}/items{at0009}']">
<#assign muscle_tone_ehr_data = apgar_score_entry_ehr_data + "[0].elements['/data{at0002}/events{at0003}/data{at0001}/items{at0013}']">
<#assign heart_rate_ehr_data = apgar_score_entry_ehr_data + "[0].elements['/data{at0002}/events{at0003}/data{at0001}/items{at0005}']">
<#assign reflex_irritability_cds_data = apgar_score_entry_cds_data + "[0].elements['/data{at0002}/events{at0003}/data{at0001}/items{at0017}']">
<#assign skin_colour_cds_data = apgar_score_entry_cds_data + "[0].elements['/data{at0002}/events{at0003}/data{at0001}/items{at0021}']">
<#assign total_cds_data = apgar_score_entry_cds_data + "[0].elements['/data{at0002}/events{at0003}/data{at0001}/items{at0025}']">
<#assign event_time_cds_data = apgar_score_entry_cds_data + "[0].elements['/data/events/time']">
<#assign respiratory_effort_cds_data = apgar_score_entry_cds_data + "[0].elements['/data{at0002}/events{at0003}/data{at0001}/items{at0009}']">
<#assign muscle_tone_cds_data = apgar_score_entry_cds_data + "[0].elements['/data{at0002}/events{at0003}/data{at0001}/items{at0013}']">
<#assign heart_rate_cds_data = apgar_score_entry_cds_data + "[0].elements['/data{at0002}/events{at0003}/data{at0001}/items{at0005}']">
<script> 
angular.module('cds_app').controller('Apgar_Ctrl', function($scope, $window){
  $scope.$on('json_loaded', function(){
    $scope.${event_time_ehr_data}.value.value = "2016-06-30T00:06:00";
  });
});
</script>
<div ng-show="ready" ng-controller="Apgar_Ctrl">
<div class="header">
  <h1>{{def.concept.name}}</h1>
  <h2>{{def.concept.description}}</h2>
  <div class="help-tip">
	<p>{{${app_help_tag}.description}}</p>
  </div>
</div>
<div class="card">
  <div class="row collapse" title="{{${reflex_irritability_def}.description}}">
      <div class="medium-5 columns">
        <label>{{${reflex_irritability_def}.name}}</label>
      </div>
      <div class="medium-7 columns">
        <select ng-model="${reflex_irritability_ehr_data}.value.selection" ng-options="key as desc for (key, desc) in ${reflex_irritability_def}.selections"  ng-change="execute()" ng-model-options="{ updateOn: 'default blur', debounce: { default: 500, blur: 0 } }"></select>
      </div>
  </div>
  <div class="row collapse" title="{{${skin_colour_def}.description}}">
      <div class="medium-5 columns">
        <label>{{${skin_colour_def}.name}}</label>
      </div>
      <div class="medium-7 columns">
        <select ng-model="${skin_colour_ehr_data}.value.selection" ng-options="key as desc for (key, desc) in ${skin_colour_def}.selections"  ng-change="execute()" ng-model-options="{ updateOn: 'default blur', debounce: { default: 500, blur: 0 } }"></select>
      </div>
  </div>
  <div class="row collapse" title="{{${respiratory_effort_def}.description}}">
      <div class="medium-5 columns">
        <label>{{${respiratory_effort_def}.name}}</label>
      </div>
      <div class="medium-7 columns">
        <select ng-model="${respiratory_effort_ehr_data}.value.selection" ng-options="key as desc for (key, desc) in ${respiratory_effort_def}.selections"  ng-change="execute()" ng-model-options="{ updateOn: 'default blur', debounce: { default: 500, blur: 0 } }"></select>
      </div>
  </div>
  <div class="row collapse" title="{{${muscle_tone_def}.description}}">
      <div class="medium-5 columns">
        <label>{{${muscle_tone_def}.name}}</label>
      </div>
      <div class="medium-7 columns">
        <select ng-model="${muscle_tone_ehr_data}.value.selection" ng-options="key as desc for (key, desc) in ${muscle_tone_def}.selections"  ng-change="execute()" ng-model-options="{ updateOn: 'default blur', debounce: { default: 500, blur: 0 } }"></select>
      </div>
  </div>
  <div class="row collapse" title="{{${heart_rate_def}.description}}">
      <div class="medium-5 columns">
        <label>{{${heart_rate_def}.name}}</label>
      </div>
      <div class="medium-7 columns">
        <select ng-model="${heart_rate_ehr_data}.value.selection" ng-options="key as desc for (key, desc) in ${heart_rate_def}.selections"  ng-change="execute()" ng-model-options="{ updateOn: 'default blur', debounce: { default: 500, blur: 0 } }"></select>
      </div>
  </div>
  <div class="row collapse" title="{{${total_def}.description}}">
    <div class="medium-5 columns">
      <label><b>{{${total_def}.name}}</b></label>
    </div>
    <div class="medium-7 columns">
      <span>{{${total_cds_data}.value.magnitude}}</span>
    </div>
  </div>
</div>
</div>
</body>
<style>
  html, body {
    height:100%;
    width: 100%;
  }
  body {
    font-family: sans-serif;
    font-weight: 300;
    color: #333;
    background: #ecf0f9;
    padding: 1em;
    -webkit-font-smoothing: antialiased;
  }
  h1 {
    font-weight: 600;
    text-align: center;
  }
  h2 {
    text-align: center;
    font-weight: 300;
    font-size: 22px;
    font-style: italic;
  }
  h3 {
    font-weight: 600;
    font-size: 18px;
  }
  .header {
    margin-bottom: 2em;
  }
  .card {
    background-color: #fdfdfd;
    box-shadow: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);
    margin: 10px auto 0 auto;
    padding: 1em;
    width: 50%;
    overflow: hidden;
  }
  select {
    margin: 0 10px 0 10px;
    
  }
  .help-tip{
      position: absolute;
      top: 18px;
      right: 18px;
      text-align: center;
      background-color: #BCDBEA;
      border-radius: 50%;
      width: 24px;
      height: 24px;
      font-size: 14px;
      line-height: 26px;
      cursor: default;
  }
  .help-tip:before{
      content:'?';
      font-weight: bold;
      color:#fff;
  }
  .help-tip:hover p{
      display:block;
      transform-origin: 100% 0%;
      -webkit-animation: fadeIn 0.3s ease-in-out;
      animation: fadeIn 0.3s ease-in-out;
  }
  .help-tip p{	/* The tooltip */
      display: none;
      text-align: left;
      background-color: #1E2021;
      padding: 20px;
      width: 300px;
      position: absolute;
      border-radius: 3px;
      box-shadow: 1px 1px 1px rgba(0, 0, 0, 0.2);
      right: -4px;
      color: #FFF;
      font-size: 13px;
      line-height: 1.4;
      z-index: 9999;
  }
  .help-tip p:before{ /* The pointer of the tooltip */
      position: absolute;
      content: '';
      width:0;
      height: 0;
      border:6px solid transparent;
      border-bottom-color:#1E2021;
      right:10px;
      top:-12px;
  }
  .help-tip p:after{ /* Prevents the tooltip from being hidden */
      width:100%;
      height:40px;
      content:'';
      position: absolute;
      top:-40px;
      left:0;
  }
  /* CSS animation */
  @-webkit-keyframes fadeIn {
      0% { 
          opacity:0; 
          transform: scale(0.6);
      }

      100% {
          opacity:100%;
          transform: scale(1);
      }
  }
  @keyframes fadeIn {
      0% { opacity:0; }
      100% { opacity:100%; }
  }
  select, label {
    margin-bottom: 10px;
  }
</style>
</html>