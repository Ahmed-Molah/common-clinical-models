<!DOCTYPE html><html ng-app="cds_app"><head>
<title>{{def.concept.name}}</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="stylesheet" type="text/css" href="wro/foundation.css" />
<link rel="stylesheet" type="text/css" href="wro/date-picker.css" />
<link rel="stylesheet" type="text/css" href="wro/angular.css" />
<script type="text/javascript" src="wro/angular.js"></script>
<link rel="text/javascript" type="text/css" href="wro/foundation.js" />
<script type="text/javascript" src="wro/moment.js"></script>
<script type="text/javascript" src="wro/date-picker.js"></script>
<script type="text/javascript" src="wro/app_lib.js"></script>
<script id="decision-support-view" type="application/json">{
  "dsViewId": "AIR_Score.v1",
  "language": {
    "originalLanguage": {
      "terminologyId": {
        "name": "ISO_639-1",
        "value": "ISO_639-1"
      },
      "codeString": "en"
    }
  },
  "decisionSupportViewDefinitions": {
    "en": {
      "name": "AIR-Score"
    }
  },
  "resourceDescription": {
    "originalAuthor": {
      "name": "Dennis Forslund",
      "organisation": "Cambio Healthcare Systems"
    },
    "otherContributors": [],
    "details": {
      "en": {
        "keywords": [],
        "copyright": "Cambio Healthcare Systems"
      }
    },
    "otherDetails": {}
  },
  "alertGuideIds": [],
  "executionGuideIds": [
    "AIR_Score.v1"
  ],
  "alertBindings": {},
  "termDefinitions": {
    "en": {
      "id": "en",
      "terms": {}
    }
  }
}</script>
</head>
<body ng-controller="cds_controller">
<#assign full_blood_count_entry_ehr_data = "data.ehr['openEHR-EHR-OBSERVATION.lab_test-full_blood_count.v1']">
<#assign full_blood_count_entry_def = "def.entries['openEHR-EHR-OBSERVATION.lab_test-full_blood_count.v1']">
<#assign white_cell_count_def = full_blood_count_entry_def + ".elements['/data{at0001}/events{at0002}/data{at0003}/items{at0078.13}']">
<#assign neutrophils_def = full_blood_count_entry_def + ".elements['/data{at0001}/events{at0002}/data{at0003}/items{at0078.14}/items{at0078.15}']">
<#assign white_cell_count_ehr_data = full_blood_count_entry_ehr_data + "[0].elements['/data{at0001}/events{at0002}/data{at0003}/items{at0078.13}']">
<#assign neutrophils_ehr_data = full_blood_count_entry_ehr_data + "[0].elements['/data{at0001}/events{at0002}/data{at0003}/items{at0078.14}/items{at0078.15}']">
<#assign lab_test_c_reactive_protein_entry_ehr_data = "data.ehr['openEHR-EHR-OBSERVATION.lab_test_c_reactive_protein.v1']">
<#assign lab_test_c_reactive_protein_entry_def = "def.entries['openEHR-EHR-OBSERVATION.lab_test_c_reactive_protein.v1']">
<#assign result_def = lab_test_c_reactive_protein_entry_def + ".elements['/data{at0001}/events{at0002}/data{at0003}/items{at0006}']">
<#assign result_ehr_data = lab_test_c_reactive_protein_entry_ehr_data + "[0].elements['/data{at0001}/events{at0002}/data{at0003}/items{at0006}']">
<#assign air_score_assessment_entry_cds_data = "data.cds['openEHR-EHR-EVALUATION.air_score_assessment.v1']">
<#assign air_score_assessment_entry_def = "def.entries['openEHR-EHR-EVALUATION.air_score_assessment.v1']">
<#assign recommendation_def = air_score_assessment_entry_def + ".elements['/data{at0001}/items{at0003}']">
<#assign probability_def = air_score_assessment_entry_def + ".elements['/data{at0001}/items{at0002}']">
<#assign recommendation_cds_data = air_score_assessment_entry_cds_data + "[0].elements['/data{at0001}/items{at0003}']">
<#assign probability_cds_data = air_score_assessment_entry_cds_data + "[0].elements['/data{at0001}/items{at0002}']">
<#assign air_score_entry_ehr_data = "data.ehr['openEHR-EHR-OBSERVATION.air_score.v1']">
<#assign air_score_entry_cds_data = "data.cds['openEHR-EHR-OBSERVATION.air_score.v1']">
<#assign air_score_entry_def = "def.entries['openEHR-EHR-OBSERVATION.air_score.v1']">
<#assign vomiting_def = air_score_entry_def + ".elements['/data{at0001}/events{at0002}/data{at0003}/items{at0004}']">
<#assign pain_in_right_inferior_fossa_def = air_score_entry_def + ".elements['/data{at0001}/events{at0002}/data{at0003}/items{at0005}']">
<#assign white_blood_cell_count_def = air_score_entry_def + ".elements['/data{at0001}/events{at0002}/data{at0003}/items{at0026}']">
<#assign crp_def = air_score_entry_def + ".elements['/data{at0001}/events{at0002}/data{at0003}/items{at0027}']">
<#assign event_time_def = air_score_entry_def + ".elements['/data/events/time']">
<#assign total_score_def = air_score_entry_def + ".elements['/data{at0001}/events{at0002}/data{at0003}/items{at0021}']">
<#assign body_temperature__38_5_def = air_score_entry_def + ".elements['/data{at0001}/events{at0002}/data{at0003}/items{at0007}']">
<#assign rebound_tenderness_or_muscular_defense_def = air_score_entry_def + ".elements['/data{at0001}/events{at0002}/data{at0003}/items{at0006}']">
<#assign neutrophils1_def = air_score_entry_def + ".elements['/data{at0001}/events{at0002}/data{at0003}/items{at0025}']">
<#assign vomiting_ehr_data = air_score_entry_ehr_data + "[0].elements['/data{at0001}/events{at0002}/data{at0003}/items{at0004}']">
<#assign pain_in_right_inferior_fossa_ehr_data = air_score_entry_ehr_data + "[0].elements['/data{at0001}/events{at0002}/data{at0003}/items{at0005}']">
<#assign white_blood_cell_count_ehr_data = air_score_entry_ehr_data + "[0].elements['/data{at0001}/events{at0002}/data{at0003}/items{at0026}']">
<#assign crp_ehr_data = air_score_entry_ehr_data + "[0].elements['/data{at0001}/events{at0002}/data{at0003}/items{at0027}']">
<#assign event_time_ehr_data = air_score_entry_ehr_data + "[0].elements['/data/events/time']">
<#assign total_score_ehr_data = air_score_entry_ehr_data + "[0].elements['/data{at0001}/events{at0002}/data{at0003}/items{at0021}']">
<#assign body_temperature__38_5_ehr_data = air_score_entry_ehr_data + "[0].elements['/data{at0001}/events{at0002}/data{at0003}/items{at0007}']">
<#assign rebound_tenderness_or_muscular_defense_ehr_data = air_score_entry_ehr_data + "[0].elements['/data{at0001}/events{at0002}/data{at0003}/items{at0006}']">
<#assign neutrophils1_ehr_data = air_score_entry_ehr_data + "[0].elements['/data{at0001}/events{at0002}/data{at0003}/items{at0025}']">
<#assign vomiting_cds_data = air_score_entry_cds_data + "[0].elements['/data{at0001}/events{at0002}/data{at0003}/items{at0004}']">
<#assign pain_in_right_inferior_fossa_cds_data = air_score_entry_cds_data + "[0].elements['/data{at0001}/events{at0002}/data{at0003}/items{at0005}']">
<#assign white_blood_cell_count_cds_data = air_score_entry_cds_data + "[0].elements['/data{at0001}/events{at0002}/data{at0003}/items{at0026}']">
<#assign crp_cds_data = air_score_entry_cds_data + "[0].elements['/data{at0001}/events{at0002}/data{at0003}/items{at0027}']">
<#assign event_time_cds_data = air_score_entry_cds_data + "[0].elements['/data/events/time']">
<#assign total_score_cds_data = air_score_entry_cds_data + "[0].elements['/data{at0001}/events{at0002}/data{at0003}/items{at0021}']">
<#assign body_temperature__38_5_cds_data = air_score_entry_cds_data + "[0].elements['/data{at0001}/events{at0002}/data{at0003}/items{at0007}']">
<#assign rebound_tenderness_or_muscular_defense_cds_data = air_score_entry_cds_data + "[0].elements['/data{at0001}/events{at0002}/data{at0003}/items{at0006}']">
<#assign neutrophils1_cds_data = air_score_entry_cds_data + "[0].elements['/data{at0001}/events{at0002}/data{at0003}/items{at0025}']">



<script>
  angular.module('cds_app').controller('AIR-Score_Controller', function($scope, $window){
    $scope.$on('json_loaded', function(){
      $scope.${event_time_ehr_data}.value.value = $window.getCurrentDate();
    });
  });
</script>


<div ng-show="ready" ng-controller="AIR-Score_Controller">
<div class="row">
<div class="medium-12 column">
<h1>{{def.concept.name}}</h1>
</div>
</div>
<div class="row">
<div class="medium-6 column">
<form name="form">
<fieldset>
<legend>{{${full_blood_count_entry_def}.name}}</legend>
<label>{{${white_cell_count_def}.name}}</label>
<div class="row collapse" title="{{${white_cell_count_def}.description}}">
<div class="medium-9 columns">
<input ng-model="${white_cell_count_ehr_data}.value.magnitude" type="number" step="any" ng-change="execute()" ng-model-options="{ updateOn: 'default blur', debounce: { default: 500, blur: 0 } }" />
</div>
<div class="medium-3 columns">
<select ng-model="${white_cell_count_ehr_data}.value.units" id="white_cell_count_ehr_units" ng-options="unit for unit in ${white_cell_count_def}.units" ng-change="execute()"></select>
</div>
</div>
<label>{{${neutrophils_def}.name}}</label>
<div class="row collapse" title="{{${neutrophils_def}.description}}">
<div class="medium-9 columns">
<input ng-model="${neutrophils_ehr_data}.value.magnitude" type="number" step="any" ng-change="execute()" ng-model-options="{ updateOn: 'default blur', debounce: { default: 500, blur: 0 } }" />
</div>
<div class="medium-3 columns">
<select ng-model="${neutrophils_ehr_data}.value.units" id="neutrophils_ehr_units" ng-options="unit for unit in ${neutrophils_def}.units" ng-change="execute()"></select>
</div>
</div>
</fieldset>
<fieldset>
<legend>{{${lab_test_c_reactive_protein_entry_def}.name}}</legend>
<label>{{${result_def}.name}}</label>
<div class="row collapse" title="{{${result_def}.description}}">
<div class="medium-9 columns">
<input ng-model="${result_ehr_data}.value.magnitude" type="number" step="any" ng-change="execute()" ng-model-options="{ updateOn: 'default blur', debounce: { default: 500, blur: 0 } }" />
</div>
<div class="medium-3 columns">
<select ng-model="${result_ehr_data}.value.units" id="result_ehr_units" ng-options="unit for unit in ${result_def}.units" ng-change="execute()"></select>
</div>
</div>
</fieldset>
<fieldset>
<legend>{{${air_score_entry_def}.name}}</legend>
<label>{{${vomiting_def}.name}}</label>
<div class="row collapse" title="{{${vomiting_def}.description}}">
<div class="medium-9 columns">
<select ng-model="${vomiting_ehr_data}.value.selection" ng-options="key as desc for (key, desc) in ${vomiting_def}.selections" ng-change="execute()" ng-model-options="{ updateOn: 'default blur', debounce: { default: 500, blur: 0 } }"></select>
</div>
</div>
<label>{{${pain_in_right_inferior_fossa_def}.name}}</label>
<div class="row collapse" title="{{${pain_in_right_inferior_fossa_def}.description}}">
<div class="medium-9 columns">
<select ng-model="${pain_in_right_inferior_fossa_ehr_data}.value.selection" ng-options="key as desc for (key, desc) in ${pain_in_right_inferior_fossa_def}.selections" ng-change="execute()" ng-model-options="{ updateOn: 'default blur', debounce: { default: 500, blur: 0 } }"></select>
</div>
</div>
<label>{{${body_temperature__38_5_def}.name}}</label>
<div class="row collapse" title="{{${body_temperature__38_5_def}.description}}">
<div class="medium-9 columns">
<select ng-model="${body_temperature__38_5_ehr_data}.value.selection" ng-options="key as desc for (key, desc) in ${body_temperature__38_5_def}.selections" ng-change="execute()" ng-model-options="{ updateOn: 'default blur', debounce: { default: 500, blur: 0 } }"></select>
</div>
</div>
<label>{{${rebound_tenderness_or_muscular_defense_def}.name}}</label>
<div class="row collapse" title="{{${rebound_tenderness_or_muscular_defense_def}.description}}">
<div class="medium-9 columns">
<select ng-model="${rebound_tenderness_or_muscular_defense_ehr_data}.value.selection" ng-options="key as desc for (key, desc) in ${rebound_tenderness_or_muscular_defense_def}.selections" ng-change="execute()" ng-model-options="{ updateOn: 'default blur', debounce: { default: 500, blur: 0 } }"></select>
</div>
</div>
</fieldset>
</form>
</div>
<div class="medium-6 column">
<fieldset>
<legend>{{${air_score_entry_def}.name}}</legend>
<div class="row">
<div class="medium-12 columns">
<b>{{${total_score_def}.name}}: </b>{{${total_score_cds_data}.value.magnitude}}</div>
</div>
</fieldset>
<fieldset>
<legend>{{${air_score_assessment_entry_def}.name}}</legend>
<div class="row">
<div class="medium-12 columns">
<b>{{${recommendation_def}.name}}: </b>{{${recommendation_cds_data}.value.symbol.value}}</div>
</div>
<div class="row">
<div class="medium-12 columns">
<b>{{${probability_def}.name}}: </b>{{${probability_cds_data}.value.symbol.value}}</div>
</div>
</fieldset>
<style>
    body{background-color: #e7efff;}
    h1{text-align: center;}
    fieldset legend{background-color: transparent;}
    .guideline-recommendation {
      border-radius: 0px;
      border: 1px dotted #000;
      padding: 0px 5px;
      line-height: 32px;
      height: 32px;  
</div>
</div>
</div>
</div>
</body>
</html>
</style></div></div></div></body></html>